---
import Logo from "@components/base/Logo.astro";
import ButtonMain from "@components/base/ButtonMain.astro";
import ThemeToggler from "@components/base/ThemeToggler.astro";
import Hamburger from "@components/base/Hamburger.astro";
import NavbarSearchFilters from "@components/navigation/NavbarSearchFilters.astro";
---

<div
        x-cloak
        x-data="navbar()"
        x-on:scroll.window="scroll()"
        class="fixed top-0 left-0 w-full z-50 transition-all duration-300"
        :class="scrolled || $store.app.mobileOpen ? 'bg-white dark:bg-muted-900 shadow-lg shadow-muted-300/30 dark:shadow-muted-900/40' : ''"
>
    <div
            class="w-full max-w-7xl mx-auto flex items-center justify-between pl-4 pr-0 lg:pr-4 font-sans"
    >
        <!-- Left -->
        <div class="w-full lg:w-auto flex items-center gap-6">
            <a href="/" class="flex items-center gap-3">
                <div
                        class="transition-all duration-00"
                        :class="scrolled || $store.app.mobileOpen ? 'text-rose-500' : 'text-primary-600'"
                >
                    <Logo class="'w-9 h-9'"/>
                </div>
                <span
                        class="font-sans text-lg tracking-widest uppercase text-muted-800 dark:text-muted-100"
                >AG Salud Perinatal</span
                >
            </a>

            <div class="flex items-center justify-center h-20 w-20 lg:hidden ml-auto">
                <Hamburger/>
            </div>
        </div>
        <!-- Right -->
        <div
                class="flex-col items-center lg:justify-end gap-x-6"
                :class="$store.app.mobileOpen ? 'absolute top-[80px] left-0 w-full flex text-center px-6 pt-2 pb-6 border-t border-muted-200 dark:border-muted-800 bg-white dark:bg-muted-900 shadow-lg shadow-muted-300/40 dark:shadow-muted-900/50' : 'hidden lg:flex lg:flex-row'"
        >
            <div class="flex flex-col lg:flex-row items-center gap-x-6 lg:gap-x-10">
                <div class="relative py-3 lg:py-5 after:content-[''] after:absolute after:-bottom-1.5 after:left-0 after:h-[3px] after:rounded-t-full after:transition-all after:duration-300 transition-colors duration-300"
                     :class="activeStep === 'spy-1' ? 'text-primary-500 after:bg-primary-500 after:w-full' : 'text-slate-500 dark:text-slate-400 hover:text-muted-700 dark:hover:text-muted-100 after:w-0'"
                >
                    <a href="#home">Inicio</a>
                </div>
                <div class="relative py-3 lg:py-5 after:content-[''] after:absolute after:-bottom-1.5 after:left-0 after:h-[3px] after:rounded-t-full after:transition-all after:duration-300 transition-colors duration-300"
                     :class="activeStep === 'spy-3' ? 'text-primary-500 after:bg-primary-500 after:w-full' : 'text-slate-500 dark:text-slate-400 hover:text-muted-700 dark:hover:text-muted-100 after:w-0'"
                >
                    <a href="#asesorias">Asesorías</a>
                </div>
                <div class="relative py-3 lg:py-5 after:content-[''] after:absolute after:-bottom-1.5 after:left-0 after:h-[3px] after:rounded-t-full after:transition-all after:duration-300 transition-colors duration-300"
                     :class="activeStep === 'spy-2' ? 'text-primary-500 after:bg-primary-500 after:w-full' : 'text-slate-500 dark:text-slate-400 hover:text-muted-700 dark:hover:text-muted-100 after:w-0'"
                >
                    <a href="#about">Sobre Mí</a>
                </div>

                <div class="relative py-3 lg:py-5 after:content-[''] after:absolute after:-bottom-1.5 after:left-0 after:h-[3px] after:rounded-t-full after:transition-all after:duration-300 transition-colors duration-300"
                     :class="activeStep === 'spy-4' ? 'text-primary-500 after:bg-primary-500 after:w-full' : 'text-slate-500 dark:text-slate-400 hover:text-muted-700 dark:hover:text-muted-100 after:w-0'"
                >
                    <a href="#testimonios">Testimonios</a>
                </div>
                <div class="py-3 lg:py-5">
                    <ThemeToggler/>
                </div>
            </div>
            <div class="w-full md:w-auto">
                <ButtonMain to={"https://wa.link/oizt1y"}   target="_blank" class="'w-full md:w-[240px] lg:w-[110px]'"
                >Contacto
                </ButtonMain
                >
            </div>
        </div>
    </div>
</div>
